basePath: /api/v1
definitions:
  models.CreateAchievementRequest:
    properties:
      achievement_type:
        type: string
      description:
        type: string
      details:
        additionalProperties: true
        type: object
      tags:
        items:
          type: string
        type: array
      title:
        type: string
    required:
    - achievement_type
    - title
    type: object
  models.CreateUserRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      password:
        minLength: 8
        type: string
      role_id:
        type: string
      username:
        type: string
    required:
    - email
    - full_name
    - password
    - role_id
    - username
    type: object
  models.Lecturer:
    properties:
      created_at:
        type: string
      department:
        type: string
      id:
        type: string
      lecturer_id:
        type: string
      user_id:
        type: string
    type: object
  models.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  models.Permission:
    properties:
      action:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      resource:
        type: string
    type: object
  models.Role:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      permissions:
        items:
          $ref: '#/definitions/models.Permission'
        type: array
    type: object
  models.SetAdvisorRequest:
    properties:
      advisor_id:
        type: string
    required:
    - advisor_id
    type: object
  models.Student:
    properties:
      academic_year:
        type: string
      advisor_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      program_study:
        type: string
      student_id:
        type: string
      user_id:
        type: string
    type: object
  models.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      role:
        $ref: '#/definitions/models.Role'
      role_id:
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@example.com
    name: API Support
  description: API documentation for Student Achievement Management System
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Sistem Prestasi Mahasiswa API
  version: "1.0"
paths:
  /achievements:
    get:
      consumes:
      - application/json
      description: Get paginated list of achievements
      parameters:
      - default: 10
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of achievements
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all achievements
      tags:
      - Achievements
    post:
      consumes:
      - application/json
      description: Students can create a new achievement entry
      parameters:
      - description: Achievement data
        in: body
        name: achievement
        required: true
        schema:
          $ref: '#/definitions/models.CreateAchievementRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Achievement created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - only students can create
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create new achievement
      tags:
      - Achievements
  /achievements/{id}:
    delete:
      consumes:
      - application/json
      description: Student deletes their own draft or rejected achievement
      parameters:
      - description: Achievement ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Achievement deleted
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete achievement
      tags:
      - Achievements
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific achievement
      parameters:
      - description: Achievement ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Achievement details
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Achievement not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get achievement detail
      tags:
      - Achievements
  /achievements/{id}/reject:
    post:
      consumes:
      - application/json
      description: Lecturer or admin rejects an achievement with a note
      parameters:
      - description: Achievement ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Rejection note
        in: body
        name: rejection
        required: true
        schema:
          properties:
            note:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Achievement rejected
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Reject achievement
      tags:
      - Achievements
  /achievements/{id}/submit:
    post:
      consumes:
      - application/json
      description: Student submits their achievement for lecturer verification
      parameters:
      - description: Achievement ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Achievement submitted
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid state transition
          schema:
            additionalProperties: true
            type: object
        "403":
          description: Forbidden - not owner
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Submit achievement for verification
      tags:
      - Achievements
  /achievements/{id}/verify:
    post:
      consumes:
      - application/json
      description: Lecturer or admin approves an achievement
      parameters:
      - description: Achievement ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Achievement verified
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid state
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Verify achievement
      tags:
      - Achievements
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user and return JWT tokens
      parameters:
      - description: Login credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/models.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful with tokens
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Invalid credentials
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
      summary: User login
      tags:
      - Authentication
  /auth/profile:
    get:
      consumes:
      - application/json
      description: Retrieve authenticated user's profile information
      produces:
      - application/json
      responses:
        "200":
          description: User profile
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get current user profile
      tags:
      - Authentication
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Generate new access token using refresh token
      parameters:
      - description: Refresh token
        in: body
        name: token
        required: true
        schema:
          properties:
            refresh_token:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: New access token
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Invalid refresh token
          schema:
            additionalProperties: true
            type: object
      summary: Refresh access token
      tags:
      - Authentication
  /lecturers:
    get:
      consumes:
      - application/json
      description: Get paginated list of all lecturers in the system
      parameters:
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved lecturers list
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.Lecturer'
                type: array
              meta:
                properties:
                  limit:
                    type: integer
                  offset:
                    type: integer
                  page:
                    type: integer
                  total:
                    type: integer
                type: object
              status:
                type: string
            type: object
        "401":
          description: Unauthorized - Invalid or missing token
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "500":
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get All Lecturers
      tags:
      - Lecturers
  /lecturers/{id}:
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific lecturer including their
        profile and user data
      parameters:
      - description: Lecturer UUID
        example: 550e8400-e29b-41d4-a716-446655440000
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved lecturer details
          schema:
            properties:
              data:
                $ref: '#/definitions/models.Lecturer'
              message:
                type: string
              status:
                type: string
            type: object
        "400":
          description: Bad Request - Invalid UUID format
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "401":
          description: Unauthorized - Invalid or missing token
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "404":
          description: Lecturer not found
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "500":
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get Lecturer by ID
      tags:
      - Lecturers
  /lecturers/{id}/advisees:
    get:
      consumes:
      - application/json
      description: Get list of students who are under the supervision of a specific
        lecturer (academic advisor)
      parameters:
      - description: Lecturer UUID
        example: 550e8400-e29b-41d4-a716-446655440000
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved advisees list
          schema:
            properties:
              data:
                items:
                  $ref: '#/definitions/models.Student'
                type: array
              message:
                type: string
              status:
                type: string
            type: object
        "400":
          description: Bad Request - Invalid UUID format
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "401":
          description: Unauthorized - Invalid or missing token
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "404":
          description: Lecturer not found
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "500":
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get Lecturer's Advisees
      tags:
      - Lecturers
  /reports/statistics:
    get:
      consumes:
      - application/json
      description: Get aggregated statistics of achievements including counts by type
        and status. Returns a snapshot of recent data (limited to 100 items for performance).
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved system statistics
          schema:
            properties:
              data:
                properties:
                  by_achievement_type:
                    type: object
                  by_status:
                    type: object
                  sample_size:
                    type: integer
                type: object
              message:
                type: string
              status:
                type: string
            type: object
        "401":
          description: Unauthorized - Invalid or missing token
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "403":
          description: Forbidden - Insufficient permissions
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "500":
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get System Statistics
      tags:
      - Reports
  /reports/student/{id}:
    get:
      consumes:
      - application/json
      description: Get comprehensive report of achievements for a specific student
        including all their achievement records with pagination support
      parameters:
      - description: Student UUID
        example: 770e8400-e29b-41d4-a716-446655440002
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Successfully retrieved student report
          schema:
            properties:
              data:
                properties:
                  achievements:
                    items:
                      type: object
                    type: array
                  total_shown:
                    type: integer
                type: object
              message:
                type: string
              status:
                type: string
            type: object
        "400":
          description: Bad Request - Invalid student ID format
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "401":
          description: Unauthorized - Invalid or missing token
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "403":
          description: Forbidden - Cannot access other student's report
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "404":
          description: Student not found
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
        "500":
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              status:
                type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get Student Achievement Report
      tags:
      - Reports
  /students:
    get:
      consumes:
      - application/json
      description: Get paginated list of students
      parameters:
      - default: 10
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of students
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all students
      tags:
      - Students
  /students/{id}:
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific student
      parameters:
      - description: Student ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Student details
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Student not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get student detail
      tags:
      - Students
  /students/{id}/achievements:
    get:
      consumes:
      - application/json
      description: Get all achievements for a specific student
      parameters:
      - description: Student ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - default: 10
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Student achievements
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get student achievements
      tags:
      - Students
  /students/{id}/advisor:
    put:
      consumes:
      - application/json
      description: Assign a lecturer as academic advisor for a student
      parameters:
      - description: Student ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Advisor ID
        in: body
        name: advisor
        required: true
        schema:
          $ref: '#/definitions/models.SetAdvisorRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Advisor assigned
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Assign advisor to student
      tags:
      - Students
  /users:
    get:
      consumes:
      - application/json
      description: Get paginated list of users
      parameters:
      - default: 10
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of users
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List all users
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Register a new user in the system
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create new user
      tags:
      - Users
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a user (sets is_active to false)
      parameters:
      - description: User ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User deleted
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Delete user
      tags:
      - Users
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific user
      parameters:
      - description: User ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User details
          schema:
            additionalProperties: true
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get user detail
      tags:
      - Users
    put:
      consumes:
      - application/json
      description: Update existing user information
      parameters:
      - description: User ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Updated user data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.User'
      produces:
      - application/json
      responses:
        "200":
          description: User updated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Update user
      tags:
      - Users
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
